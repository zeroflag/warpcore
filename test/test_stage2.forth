: =ASSERT <> IF " ASSERT ERROR" ABORT THEN ;

[ 3 ] CONSTANT THREE
[ THREE DUP * ] CONSTANT NINE

VARIABLE V1
VARIABLE V2

CREATE BUF1 [ 6 CELLS 1+ ALLOT ]
CREATE BUF2 [ 1000 , 2000 , 3000 , ]
CREATE BUF3 [ 10 C, 20 C, 30 C, ]

.DB $4000
  $AA $BB $CC
.END

: GREET " HELLO" ;

ENTRY

THREE 3 =ASSERT
NINE  9 =ASSERT

THREE NINE + 12 =ASSERT

NINE THREE * V1 !
42 V2 !

V1 @ 27 =ASSERT
V2 @ 42 =ASSERT

8 V2 +=
V2 @ 50 =ASSERT

7 V1 -=
V1 @ 20 =ASSERT

13 1- FOR
  BUF1 I + C@ 0 =ASSERT
  $FF BUF1 I + C!
NEXT

13 1- FOR
  I BUF1 + C@ $FF =ASSERT
NEXT

BUF2 0 CELLS + @ 1000 =ASSERT
BUF2 1 CELLS + @ 2000 =ASSERT
BUF2 2 CELLS + @ 3000 =ASSERT

BUF3 0 + C@ 10 =ASSERT
BUF3 1 + C@ 20 =ASSERT
BUF3 2 + C@ 30 =ASSERT

$4000 C@ $AA =ASSERT
$4000 1+ C@ $BB =ASSERT
$4000 2 + C@ $CC =ASSERT

DEPTH 0 =ASSERT

BYE
